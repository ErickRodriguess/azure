<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Snake Retro</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
 :root{--bg:#0d0d24;--grid:#1a1a3a;--head:#ff007c;--body:#00e5ff;--food:#ffea00;--score:#00e5ff}
 *{box-sizing:border-box}
 body{margin:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;
      background:radial-gradient(circle at top,#1a1a3a 0%,var(--bg) 70%);color:var(--score);font-family:'Press Start 2P',monospace}
 h1{margin:0 0 12px;font-size:1.3rem;text-shadow:0 0 8px var(--head)}
 #score{margin:0 0 18px;font-size:1rem;text-shadow:0 0 6px var(--score)}
 canvas{background:repeating-linear-gradient(0deg,var(--grid) 0 2px,transparent 2px 40px),
                    repeating-linear-gradient(90deg,var(--grid) 0 2px,transparent 2px 40px),var(--bg);
        border:8px solid var(--head);box-shadow:0 0 15px var(--head)}
</style>
</head>
<body>
<h1>Jogo da Cobrinha</h1>
<p id="score">0</p>
<canvas id="game" width="400" height="400"></canvas>

<script>
const c=document.getElementById("game"),ctx=c.getContext("2d");
const box=20,size=400,n=size/box;
let snake=[{x:9*box,y:9*box}],dir="right",food=rndPos(),score=0,loop=setInterval(tick,150);

document.addEventListener("keydown",e=>{
  const k=e.key;
  if(k==="ArrowLeft"&&dir!=="right")dir="left";
  if(k==="ArrowUp"&&dir!=="down")dir="up";
  if(k==="ArrowRight"&&dir!=="left")dir="right";
  if(k==="ArrowDown"&&dir!=="up")dir="down";
});

function rndPos(){let p;do{p={x:Math.floor(Math.random()*n)*box,y:Math.floor(Math.random()*n)*box};}
  while(hit(p,snake));return p;}

function tick(){
  ctx.clearRect(0,0,size,size);
  snake.forEach((s,i)=>{ctx.fillStyle=i?"var(--body)":"var(--head)";ctx.fillRect(s.x,s.y,box,box);});
  ctx.fillStyle="var(--food)";ctx.fillRect(food.x,food.y,box,box);

  let {x,y}=snake[0];
  if(dir==="left")x-=box; if(dir==="right")x+=box; if(dir==="up")y-=box; if(dir==="down")y+=box;
  if(x<0||y<0||x>=size||y>=size||hit({x,y},snake)){clearInterval(loop);alert(`Fim! Pontos: ${score}`);location.reload();}
  const head={x,y};
  if(x===food.x&&y===food.y){score++;document.getElementById("score").textContent=score;food=rndPos();}
  else snake.pop();
  snake.unshift(head);
}
function hit(h,arr){return arr.some(a=>a.x===h.x&&a.y===h.y);}
</script>
</body>
</html>
